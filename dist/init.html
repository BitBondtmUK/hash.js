<!DOCTYPE html>
<html lang="en">
<head>
    <title>Micropayment | Hash.js Usacase test</title>
    <meta charset="utf-8">
    <meta name="active-menu" content="Missing Chrome Extension">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://api.hashingsystems.com/css/hash.css">
    <link rel="stylesheet" href="http://mps.hashingsystems.com/stylesheets/ext-style.css">
    <link rel="stylesheet" href="http://mps.hashingsystems.com/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://mps.hashingsystems.com/css/style.css">
    <link rel="stylesheet" href="http://mps.hashingsystems.com/css/animate.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="widget.js"></script>
</head>
<body>

<div class="container">
    <div id="hedera-object-append-div"></div>
    <div class="wrapper mt-5">
        <div style="display: none;" class="card animated slideInDown">
            <div class="image">
                <img src="https://mps.hashingsystems.com/img/four.png" alt="">
            </div>
            <div class="content">
                <div class="title">
                    <h2 id="heading"></h2>
                </div>
                <div class="text">
                    <p id="response-message"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="message_box_wrap">

        <div class="msg_inner_wrap_all">
            <!-- transaction processing -->
            <div class="msg_inner_wrap msc_processing msg_transaction_pocess_wrap animated zoomIn delay-1ms">
                <div class="msg_ico msg_loader"><img src="img/ajax-loader.gif"></div>
                <div class="main_txt_wrap">
                    <h3>Transaction Processing</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
                </div>
                <div class="time_logo">
                    <span>11:59 am</span>
                    <img src="img/logo.jpg">
                </div>
            </div>
            <!-- transaction failed -->
            <div style="display: none;" class="msg_inner_wrap msg_failed msg_transaction_pocess_wrap animated zoomIn delay-2s">
                <div class="msg_ico msg_loader"><a href="#"><img src="img/cross_mark.png"></a></div>
                <div class="main_txt_wrap">
                    <h3>Transaction Failed</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
                </div>
                <div class="time_logo">
                    <span>11:59 am</span>
                    <img src="img/logo.jpg">
                </div>
            </div>
            <!-- transaction successful -->
            <div style="display: none;" class="msg_inner_wrap msg_success msg_transaction_pocess_wrap animated zoomIn delay-3s">
                <div class="msg_ico msg_loader"><a href="#"><img src="img/check_mark.png"></a></div>
                <div class="main_txt_wrap">
                    <h3>Transaction Successful</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod</p>
                </div>
                <div class="time_logo">
                    <span>11:59 am</span>
                    <img src="img/logo.jpg">
                </div>
            </div>
        </div>

    </div>
</div>

<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $(".chat_ico").click(function () {
            $(this).hide();
            $(".chat_close").show();
            $(".msg_inner_wrap_all").show();
        });
        $(".chat_close").click(function () {
            $(this).hide();
            $(".chat_ico").show();
            $(".msg_inner_wrap_all").hide();
        });
    });

</script>

<style type="text/css">
    .msg_inner_wrap_all {
        bottom: 88px;
        right: 90px;
        border: 1px solid #e3f9ff;
        width: 360px;
        height: auto;
        text-align: center;
        font-family: 'Roboto', sans-serif;
    }

    .msc_processing {
        position: absolute;
        top: 30%;
        right: 7%;
    }

    .msg_failed {
        position: absolute;
        top: 50%;
        right: 6%;
    }

    .msg_success {
        position: absolute;
        top: 70%;
        right: 5%;
    }


    .msg_inner_wrap {
        width: 385px;
        height: auto;
        background-color: #fff;
        margin: 0 auto;
        margin-top: 10px;
        margin-bottom: 10px;
        border-radius: 95px;
    }

    .msg_inner_wrap h3 {
        font-size: 15px;
        font-weight: 700;
        letter-spacing: 1px;
        color: #353740;
        padding-top: 20px;
        line-height: 15px;
    }

    .msg_ico {
        width: 50px;
        display: inline;
        float: left;
        vertical-align: middle;
        padding-left: 17px;
        padding-top: 6%;
    }

    .msg_ico img {
        width: 47px;
        height: auto;
    }

    .main_txt_wrap {
        width: 273px;
        text-align: left;
        vertical-align: middle;
        display: inline-block;
    }

    .main_txt_wrap p {
        font-size: 11.5px;
        color: #878787;
        font-weight: 500;
        line-height: 14px;
        margin-bottom: 0px;
    }

    .time_logo {
        text-align: right;
        padding-right: 33px;
        padding-bottom: 1px;
    }

    .time_logo span {
        font-family: 'Roboto', sans-serif;
        font-size: 11.5px;
        font-weight: 500;
        color: #a8a8a8;
    }

    .time_logo img {
        width: 25px;
        height: 20px;
    }

    .chat_ico {
        width: 61px;
        position: absolute;
        bottom: 13px;
        right: 12px;
    }

    .chat_close {
        width: 50px;
        position: absolute;
        bottom: 13px;
        right: 12px;
    }

    img.chat_ico:hover {
        opacity: 0.8;
    }

    img.chat_close:hover {
        opacity: 0.8;
    }

    @media screen and (max-width: 768px) {
        .msc_processing, .msg_failed, .msg_success {
            right: 2%;
        }

        .msc_processing {
            top: 40%;
        }

        .msg_failed {
            top: 60%;
        }

        .msg_success {;
            top: 80%;
        }
    }

    @media screen and (max-width: 425px) {
        .msg_inner_wrap {
            width: 315px;
        }

        .main_txt_wrap {
            width: 213px;
        }

        .msg_ico {
            width: 44px;
        }
    }


</style>
<script>
    var memo = Date.now();
    jQuery(document).ready(function(){
        window.hash(['init',{attrID:'hedera-object-append-div', memo:memo}],function(err, res){
            let time = new Date(res.time),
                minutes = time.getMinutes(),
                hours = time.getHours() % 12,
                ampm = time.getHours() >= 12 ? 'pm' : 'am';

            jQuery('.time_logo span').text(hours+':'+minutes+' '+ampm);
            if (err) {

            } else {
                console.log("data");
                console.log(res);
                jQuery('.msc_processing .msg_loader img').attr('src','img/check_mark.png');

                if(res.validBrowser===false){
                    jQuery('#heading').text('Transaction could not be made');
                    jQuery('#response-message').text('The browser is not chrome');
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('.msg_failed').show();
                }
                if(res.extensionInstalled===false && res.validBrowser === true){
                    jQuery('#heading').text('Transaction could not be made');
                    jQuery('#response-message').text(res.message);
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('.msg_failed').show();
                }
                if(res.txn_success===false && !res.error && res.validBrowser === true){
                    jQuery('#heading').text('Transaction could not be made');
                    jQuery('#response-message').text(res.message);
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('.msg_failed').show();
                }

                if(res.txn_success===false && !res.error && res.validBrowser === null){
                    jQuery('#heading').text('Transaction could not be made');
                    jQuery('#response-message').text(res.message);
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('.msg_failed').show();
                }

                if(res.error && res.validBrowser === true){
                    jQuery('#heading').text(res.error);
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('#response-message').text(res.message);
                    jQuery('.msg_failed').show();
                }

                if(res.txn_success===true){
                    jQuery('#heading').text("Transaction Successfull");
                    jQuery('#response-message').text('Transaction performed successfully');
                    jQuery('.card.animated.slideInDown').show();
                    jQuery('#response-message').text(res.message);
                    jQuery('.msg_success').show();
                }
            }
        });
    })

</script>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://mps.hashingsystems.com/js/bootstrap.min.js"></script>
<script src="https://mps.hashingsystems.com/javascripts/menu.js"></script>
</html>
